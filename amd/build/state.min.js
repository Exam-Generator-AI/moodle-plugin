define(["jquery","core/ajax","core/templates"],function($,Ajax,Templates){var intervalId=setInterval(function(){checkState(intervalId)},2e4);function checkState(intervalId){var userid=$("#local_aiquestions_userid")[0].outerText;var uniqid=$("#local_aiquestions_uniqid")[0].outerText;data={userid:userid,uniqid:uniqid};var promises=Ajax.call([{methodname:"local_aiquestions_check_state",args:{userid:userid,uniqid:uniqid}}]);promises[0].then(function(showSuccess){if(showSuccess[0].success!=""){Templates.render("local_aiquestions/success",{success:showSuccess[0].success}).then(function(html){$("#local_aiquestions_success").html(html)});clearInterval(intervalId)}if(showSuccess[0].tries!=null){if(showSuccess[0].success!=""){var percent=100}else{var percent=Math.round(showSuccess[0].tries/showSuccess[0].numoftries*100)}Templates.render("local_aiquestions/info",{tries:showSuccess[0].tries,numoftries:showSuccess[0].numoftries,percent:percent}).then(function(html){$("#local_aiquestions_info").html(html)})}})}});
//# sourceMappingURL=build/state.min.js.map